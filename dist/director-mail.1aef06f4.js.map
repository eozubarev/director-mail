{"version":3,"sources":["js/mask.js","js/validation.js","js/form.js","js/select.js","../index.js"],"names":["Mask","constructor","element","options","_this","symbol","mask","allowedChars","empty","legalLength","value","regex","maskSymbols","match","RegExp","allowedCharsLength","forEach","elem","phonePrefix","checkKeyCodeSupport","addEventListener","requestAnimationFrame","indexedSymbol","indexOf","caretPosition","length","setCaretPosition","e","method","pasteWithMask","pasteWithSimpleMask","__bindedRoute","route","bind","keyCode","__simpleMask","__mask","Promise","resolve","reject","then","result","numbers","maskArray","split","maskArrayChars","count","pop","i","carerPosition","slice","join","displayResult","catch","key","keyIdentifier","metaKey","ctrlKey","preventDefault","whatIsKey","keys","keysArray","symbolsInMask","push","ctrl","start","end","setSelectionRange","focus","createTextRange","range","collapse","moveEnd","moveStart","select","event","pasteData","clipboardData","getData","data","Error","checkDoubleMaskSymbols","console","log","lengthAllowedChars","lastValue","dispatchEvent","Event","checkKeyCode","removeEventListener","test","clear","Validation","form","setMask","formListeners","inputName","name","inputPhone","phone","inputEmail","email","inputComment","comment","checkAgree","checkFormInputs","submitForm","sendYandexMetricaReachGoal","error","querySelector","ymName","String","yaCounter54273208","reachGoal","formEl","source","getAttribute","location","window","href","setAttribute","fetch","body","FormData","res","status","sayThanks","err","classList","add","openCheckEl","phoneText","textContent","closeCheckEl","input","remove","check","checkName","checkPhone","checkEmail","checkComment","checkCheckbox","label","checkPhoneNumbers","el","valueArray","number","char","checkbox","submit","checked","removeAttribute","phoneLabel","phoneEl","phoneMask","nameLabel","regexp","emailLabel","commentLabel","Form","forms","document","querySelectorAll","inputs","inputFile","initValidation","listeners","showFilesCount","item","checkValue","setFocus","removeFocus","counter","files","text","size","innerHTML","toFixed","getElementsByClassName","undefined","SelectForm","selectMenus","activeClass","selectClass","hasValue","selectMenu","contains","hideSelectMenu","removeSelectMenus","openSelectMenu","target","items","choiceReasonCall"],"mappings":"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","file":"director-mail.1aef06f4.js","sourceRoot":"../src","sourcesContent":["export default class Mask {\r\n  constructor(element,options = {}){\r\n    if (!element) return;\r\n    var _this = this;\r\n    this.symbol = options.symbol || '_'; // Символ заменитель незаполненных ячеек\r\n    this.mask = options.mask || '+7 (___) ___-__-__'; // Маска с учётом символа заменителя\r\n    this.allowedChars = options.allowedChars || '[0-9]'; // Разрешённые символы (будут частью регекспа)\r\n    this.empty = options.empty || 'false'; // Разрешить пустое поле\r\n    this.legalLength = options.legalLength; // Допустимые длины заполнения\r\n\r\n    this.element = element;\r\n    element.value = this.value = this.mask;\r\n\r\n    this.regex = `${this.allowedChars}|${this.symbol}`;\r\n    this.maskSymbols = this.mask.match(new RegExp(this.regex,'gi'));\r\n    this.allowedCharsLength = 0;\r\n    this.maskSymbols.forEach( elem => {\r\n      if (elem == this.symbol)\r\n        this.allowedCharsLength++;\r\n    });\r\n\r\n    // Это индикатор того, вводилась ли первой 8 или еще нет\r\n    // Далее на 93 строку\r\n    this.phonePrefix = false;\r\n\r\n    this.checkKeyCodeSupport();\r\n\r\n    element.addEventListener('focus', function() {\r\n      requestAnimationFrame( ()=>{\r\n        requestAnimationFrame( ()=>{\r\n          var indexedSymbol = _this.element.value.indexOf(_this.symbol);\r\n          if (indexedSymbol != -1)\r\n            _this.caretPosition = indexedSymbol;\r\n          else\r\n            _this.caretPosition = _this.element.value.length;\r\n\r\n          _this.setCaretPosition(_this.element,_this.caretPosition,_this.caretPosition);\r\n        });\r\n      });\r\n    });\r\n\r\n    element.addEventListener('blur', function() {\r\n\r\n      if (!_this.element.value) _this.element.value = _this.mask;\r\n\r\n    });\r\n\r\n    element.addEventListener('paste', (e) => {\r\n      if (this.method == 'mask') this.pasteWithMask(e);\r\n      if (this.method == 'simpleMask') this.pasteWithSimpleMask(e);\r\n    });\r\n\r\n    this.__bindedRoute = this.route.bind(this);\r\n    element.addEventListener('load', this.__bindedRoute);\r\n    // element.addEventListener('input', this.__bindedRoute);\r\n    element.addEventListener('keydown', this.__bindedRoute);\r\n\r\n\r\n  }\r\n\r\n  route(e){\r\n\r\n    if (e.keyCode === 0 || e.keyCode === 229)\r\n      this.__simpleMask(e);\r\n    else\r\n      this.__mask(e);\r\n  }\r\n\r\n  __simpleMask(e){\r\n\r\n    var stack = new Promise((resolve,reject) => {\r\n      requestAnimationFrame( ()=>{\r\n        requestAnimationFrame( ()=>{\r\n          if (this.value && this.value.length >= this.element.value.length) {\r\n            reject();\r\n            this.value = this.element.value;\r\n          }\r\n\r\n          resolve(this.element.value);\r\n        });\r\n      });\r\n\r\n    });\r\n\r\n    stack.then( result => {\r\n      var numbers = result.match(new RegExp(this.allowedChars,'ig'));\r\n      return numbers;\r\n    })\r\n    .then( result => {\r\n      var maskArray = this.mask.split('');\r\n      var maskArrayChars = this.mask.match(new RegExp(this.allowedChars,'ig'));\r\n      var count = 0;\r\n\r\n      // Если первой ввели 8, то мы ее удаляем и переключаем флаг того,\r\n      // Что 8 первой уже вводили и теперь уже можно вводить ее еще раз\r\n      if (result[1] == 8 && result.length < 3 && !this.phonePrefix) {\r\n        result.pop();\r\n        this.phonePrefix = true;\r\n      } else {\r\n        this.phonePrefix = false;\r\n      }\r\n\r\n      for (var i = 0; i < maskArray.length; i++) {\r\n        if (maskArrayChars && maskArrayChars[count]) {\r\n          if (result && maskArrayChars[count] == result[count]){\r\n            count++;\r\n            continue;\r\n          }\r\n        }\r\n        if (maskArray[i] == this.symbol && result && result[count]) {\r\n          maskArray[i] = result[count];\r\n          this.carerPosition = i + 1;\r\n          count++;\r\n        } else if (maskArray[i] == this.symbol && result && !result[count]) {\r\n          maskArray = maskArray.slice(0,i);\r\n          this.carerPosition = i + 1;\r\n        }\r\n      }\r\n\r\n      return maskArray;\r\n    })\r\n    .then( result => {\r\n      this.value = result.join('');\r\n    })\r\n    .then( ()=>{\r\n      this.displayResult();\r\n    })\r\n    .catch( e => {\r\n\r\n    });\r\n  }\r\n\r\n  __mask(e){\r\n\r\n    if(e.key == \"Meta\"\r\n    || e.keyIdentifier == \"Meta\"\r\n    || e.keyCode == 91\r\n    || e.metaKey == true\r\n    || e.ctrlKey == true) {\r\n\r\n    } else {\r\n      e.preventDefault();\r\n    }\r\n    var key = this.whatIsKey(e);\r\n    var keys = [ '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'Backspace', 'Delete'];\r\n\r\n    !this.keysArray && (this.keysArray = []);\r\n\r\n    if (keys.indexOf(key) === -1) {\r\n      return;\r\n    }\r\n\r\n    if (key == 'Backspace' || key == 'Delete') {\r\n      if (!this.keysArray.length) return;\r\n      this.keysArray.pop();\r\n    } else {\r\n      var symbolsInMask = this.mask.match(new RegExp(this.symbol,'ig'));\r\n\r\n      if (symbolsInMask.length > this.keysArray.length)\r\n        this.keysArray.push(key);\r\n      // Если первая 8, то увеличиваем длину массива\r\n      else if (this.keysArray[0] == 8 && symbolsInMask.length == this.keysArray.length) {\r\n        this.keysArray.push(key);\r\n      } else return;\r\n    }\r\n\r\n    if (this.keysArray.length == 0) {\r\n\r\n      this.value = this.mask;\r\n      this.carerPosition = this.mask.indexOf(this.symbol);\r\n\r\n    } else {\r\n      var maskArray = this.mask.split('');\r\n      var count = 0;\r\n\r\n      // Если первая 8, то не пишем ее и оставляем каретку на месте\r\n      if (this.keysArray[0] == 8) {\r\n        count++;\r\n        this.carerPosition = 4;\r\n      }\r\n\r\n      for (var i = 0; i < maskArray.length; i++) {\r\n        if (maskArray[i] == this.symbol && this.keysArray[count]) {\r\n          maskArray[i] = this.keysArray[count];\r\n          this.carerPosition = i + 1;\r\n          count++;\r\n        }\r\n      }\r\n\r\n      this.value = maskArray.join('');\r\n\r\n    }\r\n\r\n    this.displayResult();\r\n  }\r\n\r\n  setCaretPosition(ctrl, start, end) {\r\n    // IE >= 9 and other browsers\r\n    if (ctrl.setSelectionRange) {\r\n      ctrl.focus();\r\n      ctrl.setSelectionRange(start, end);\r\n    }\r\n    // IE < 9\r\n    else if (ctrl.createTextRange) {\r\n      var range = ctrl.createTextRange();\r\n      range.collapse(true);\r\n      range.moveEnd('character', end);\r\n      range.moveStart('character', start);\r\n      range.select();\r\n    }\r\n  }\r\n\r\n  whatIsKey(e){\r\n    var key = null;\r\n\r\n    if (e.key) {\r\n      key = e.key;\r\n    }\r\n    else if (event.keyCode) {\r\n      switch ('' + event.keyCode) {\r\n        case '48': key = '0'; break;\r\n        case '49': key = '1'; break;\r\n        case '50': key = '2'; break;\r\n        case '51': key = '3'; break;\r\n        case '52': key = '4'; break;\r\n        case '53': key = '5'; break;\r\n        case '54': key = '6'; break;\r\n        case '55': key = '7'; break;\r\n        case '56': key = '8'; break;\r\n        case '57': key = '9'; break;\r\n        case '8':  key = 'Backspace'; break;\r\n        case '46': key = 'Delete'; break;\r\n      }\r\n    }\r\n    else if (event.keyIdentifier) {\r\n      switch ('' + event.keyIdentifier) {\r\n        case 'U+0030': key = '0'; break;\r\n        case 'U+0031': key = '1'; break;\r\n        case 'U+0032': key = '2'; break;\r\n        case 'U+0033': key = '3'; break;\r\n        case 'U+0034': key = '4'; break;\r\n        case 'U+0035': key = '5'; break;\r\n        case 'U+0036': key = '6'; break;\r\n        case 'U+0037': key = '7'; break;\r\n        case 'U+0038': key = '8'; break;\r\n        case 'U+0039': key = '9'; break;\r\n        case 'U+0008': key = 'Backspace'; break;\r\n      }\r\n    }\r\n\r\n    return key;\r\n  }\r\n\r\n  pasteWithMask(e){\r\n    var pasteData = e.clipboardData && e.clipboardData.getData('Text');\r\n\r\n      Promise.resolve()\r\n      .then( () => {\r\n        if (pasteData) {\r\n          e.preventDefault();\r\n          return pasteData.match(new RegExp(this.allowedChars,'gi'));\r\n        } else {\r\n          return new Promise( resolve => {\r\n            requestAnimationFrame( ()=>{\r\n              requestAnimationFrame( ()=>{\r\n                resolve(this.element.value.match(new RegExp(this.allowedChars,'gi')));\r\n              });\r\n            });\r\n          });\r\n        }\r\n      })\r\n      .then( data => {\r\n        if (!data) throw new Error('Пусто во вставке')\r\n        if (data.length >= this.maskSymbols.length) {\r\n          this.checkDoubleMaskSymbols(data)\r\n        } else {\r\n          for (var i = 0; i < data.length; i++) {\r\n            if (this.keysArray.length < this.allowedCharsLength)\r\n              this.keysArray.push(data[i]);\r\n          }\r\n        }\r\n      })\r\n      .then( () => {\r\n        var maskArray = this.mask.split('');\r\n        var count = 0;\r\n\r\n        for (var i = 0; i < maskArray.length; i++) {\r\n          if (maskArray[i] == this.symbol && this.keysArray[count]) {\r\n            maskArray[i] = this.keysArray[count];\r\n            this.carerPosition = i + 1;\r\n            count++;\r\n          }\r\n        }\r\n        this.value = maskArray.join('');\r\n        this.displayResult();\r\n\r\n      })\r\n      .catch((e)=>{\r\n        console.log('Пустота',e);\r\n      });\r\n  }\r\n\r\n  pasteWithSimpleMask() {\r\n    this.__simpleMask();\r\n  }\r\n\r\n  displayResult(){\r\n    var lengthAllowedChars = this.value && this.value.match( new RegExp(this.allowedChars,'gi') );\r\n    if (this.maskSymbols.length === lengthAllowedChars) {\r\n      if (this.value != this.lastValue) {\r\n\r\n        this.lastValue = this.value;\r\n      }\r\n    }\r\n\r\n    this.element.value = this.value;\r\n    this.setCaretPosition(this.element,this.carerPosition,this.carerPosition);\r\n    this.element.dispatchEvent(new Event('input'));\r\n  }\r\n  checkKeyCodeSupport(){\r\n    this.method = 'mask';\r\n\r\n    var checkKeyCode = (e) => {\r\n      if (this.allowedChars == '[0-9]' && e.keyCode !== 0 || e.keyCode !== 229){\r\n        this.method = 'mask';\r\n      } else {\r\n        this.method = 'simpleMask';\r\n      }\r\n      removeEventListener('keydown',checkKeyCode)\r\n    };\r\n\r\n    addEventListener('keydown',checkKeyCode);\r\n  }\r\n\r\n  checkDoubleMaskSymbols(data) {\r\n    this.keysArray = [];\r\n    for (var i = 0; i < this.maskSymbols.length; i++) {\r\n      if (data[i] != this.maskSymbols[i] && this.keysArray.length < this.allowedCharsLength) {\r\n        this.keysArray.push(data[i])\r\n      }\r\n    }\r\n\r\n    for (;i < data.length;i++) {\r\n      if (this.keysArray.length < this.allowedCharsLength)\r\n        this.keysArray.push(data[i])\r\n      else\r\n        break;\r\n    }\r\n  }\r\n\r\n  test(){\r\n    let regexp = new RegExp(this.symbol);\r\n    return !regexp.test(this.value);\r\n  }\r\n\r\n  clear() {\r\n    this.keysArray = []\r\n    this.element.value =''\r\n  }\r\n}\r\n","import Mask from './mask.js';\r\n\r\nexport default class Validation {\r\n  constructor(form) {\r\n    this.form = form;\r\n    \r\n    this.setMask(form);\r\n    this.formListeners(form);\r\n  }\r\n\r\n  formListeners(form) {\r\n    let inputName = this.setMask(form).name;\r\n    let inputPhone = this.setMask(form).phone;\r\n    let inputEmail = this.setMask(form).email;\r\n    let inputComment = this.setMask(form).comment || null;\r\n\r\n    // let buttonReturn = form.querySelector('.checkNumber__button.--return');\r\n    // let buttonSubmit = form.querySelector('.checkNumber__button.--submit');\r\n\r\n    form.addEventListener('change', event => {\r\n      this.checkAgree(form);\r\n    });\r\n\r\n    form.addEventListener('submit', event => {\r\n      event.preventDefault();\r\n      //let phone = inputPhone.el;\r\n      //let phoneValue = phone.value;\r\n      console.log(this.checkFormInputs(form, inputName, inputPhone, inputEmail, inputComment));\r\n      try {\r\n        if (this.checkFormInputs(form, inputName, inputPhone, inputEmail, inputComment)) {\r\n          this.submitForm(form);\r\n          this.sendYandexMetricaReachGoal(form);\r\n  \r\n          // Это все дополнительная проверка номера\r\n          // this.openCheckEl(form, phoneValue);\r\n  \r\n          // buttonReturn.addEventListener('click', event => {\r\n          //   this.closeCheckEl(form, phone);\r\n          // });\r\n  \r\n          // buttonSubmit.addEventListener('click', event => {\r\n          //   // Снова проверяем, что все заполнено\r\n          //   if (this.checkFormInputs(form, inputName, inputPhone)) {\r\n          //     this.submitForm(form);\r\n          //   } else this.closeCheckEl(form, phone);\r\n          // });\r\n        }\r\n      } catch {\r\n        console.error('Ошибка при отправке формы');\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  sendYandexMetricaReachGoal(form) {\r\n    if (!form.querySelector('[name=\"ymName\"]')) return;\r\n    let ymName = String(form.querySelector('[name=\"ymName\"]').value);\r\n    yaCounter54273208.reachGoal(ymName);\r\n  }\r\n\r\n  // Отправка данных\r\n  submitForm(form) {\r\n    let formEl = form.querySelector('form');\r\n    let source = formEl.getAttribute('action');\r\n\r\n    if (form.querySelector('[name=\"location\"]')) {\r\n      let location = form.querySelector('[name=\"location\"]');\r\n      location.value = window.location.href;\r\n      location.setAttribute('value', window.location.href);\r\n    }\r\n\r\n    fetch(source, {\r\n      method: 'POST',\r\n      body: new FormData(formEl)\r\n    })\r\n    .then(res => {\r\n      // this.closeCheckEl(form);\r\n\r\n      if (res.status == 200) {\r\n        console.log('Форма отправилась');\r\n        this.sayThanks(form);\r\n      } else {\r\n        console.log('Форма не отправилась');\r\n      }\r\n    })\r\n    .catch(err => {\r\n      console.error(err)\r\n    });\r\n  }\r\n\r\n  sayThanks(form) {\r\n    form.classList.add('--thanks');\r\n  }\r\n\r\n  openCheckEl(form, value) {\r\n    let phoneText = form.querySelector('.checkNumber__number');\r\n\r\n    form.classList.add('--check');\r\n    phoneText.textContent = value;\r\n  }\r\n\r\n  closeCheckEl(form, input) {\r\n    form.classList.remove('--check');\r\n\r\n    if (!input) return;\r\n    input.focus();\r\n  }\r\n\r\n  checkFormInputs(form, name, phone, email, comment) {\r\n    let check = false;\r\n    let checkName,\r\n        checkPhone,\r\n        checkEmail,\r\n        checkComment,\r\n        checkCheckbox;\r\n\r\n    // Проверка инпута name (больше 1 символа)\r\n    if (!name.test()) {\r\n      checkName = false;\r\n      event.preventDefault();\r\n      name.label.classList.add('--hasError');\r\n    } else {\r\n      checkName = true;\r\n      name.label.classList.remove('--hasError');\r\n    }\r\n\r\n    // Проверка инпута phone\r\n    if (phone.test() && this.checkPhoneNumbers(phone.el)) {\r\n      checkPhone = true;\r\n      phone.label.classList.remove('--hasError');\r\n    } else {\r\n      checkPhone = false;\r\n      event.preventDefault();\r\n      phone.label.classList.add('--hasError');\r\n    }\r\n\r\n    // Проверка инпута email\r\n    if (email.el != null) {\r\n      if (email.test()) {\r\n        checkEmail = true;\r\n        email.label.classList.remove('--hasError');\r\n      } else {\r\n        checkEmail = false;\r\n        event.preventDefault();\r\n        email.label.classList.add('--hasError');\r\n      }\r\n    } else {\r\n      checkEmail = true;\r\n    }\r\n\r\n    // Проверка инпута comment\r\n    if (comment != null) {\r\n      if (comment.test()) {\r\n        checkComment = true;\r\n        comment.label.classList.remove('--hasError');\r\n      } else {\r\n        checkComment = false;\r\n        event.preventDefault();\r\n        comment.label.classList.add('--hasError');\r\n      }\r\n    } else {\r\n      checkComment = true;\r\n    }\r\n\r\n    // Проверка checkbox\r\n    if (!this.checkAgree(form)) {\r\n      checkCheckbox = false;\r\n      event.preventDefault();\r\n    } else checkCheckbox = true;\r\n\r\n    // Итоговая проверка, чтобы все инпуты были корректны\r\n    checkName && checkPhone && checkEmail && checkComment && checkCheckbox ? check = true : check = false;\r\n\r\n    return check;\r\n  }\r\n\r\n  // Проверка для Android\r\n  checkPhoneNumbers(input) {\r\n    var check = false;\r\n    var value = input.value;\r\n    var valueArray = value.split('');\r\n\r\n    var number = [];\r\n\r\n    for (let i = 0; i < valueArray.length; i++) {\r\n      let char = +valueArray[i];\r\n\r\n      switch (char) {\r\n        case 0: number.push(char); break;\r\n        case 1: number.push(char); break;\r\n        case 2: number.push(char); break;\r\n        case 3: number.push(char); break;\r\n        case 4: number.push(char); break;\r\n        case 5: number.push(char); break;\r\n        case 6: number.push(char); break;\r\n        case 7: number.push(char); break;\r\n        case 8: number.push(char); break;\r\n        case 9: number.push(char); break;\r\n        default: break;\r\n      }\r\n    }\r\n\r\n    if (number.length > 12) {\r\n      check = true;\r\n    }\r\n\r\n    return check;\r\n  }\r\n\r\n  checkAgree(form) {\r\n    if (!form) return;\r\n\r\n    let checkbox = form.querySelector('[type=\"checkbox\"]');\r\n    let submit = form.querySelector('[type=\"submit\"]');\r\n\r\n    if (!checkbox.checked) {\r\n      submit.setAttribute('disabled', 'disabled');\r\n      return false;\r\n    } else {\r\n      submit.removeAttribute('disabled');\r\n      return true;\r\n    }\r\n  }\r\n\r\n  setMask(form) {\r\n    if (!form) return;\r\n\r\n    var phoneLabel = form.querySelector('.input--phone');\r\n    var phoneEl = form.querySelector('input.--phone');\r\n    var phoneMask = new Mask(phoneEl);\r\n    var phone = {\r\n      el: phoneEl,\r\n      label: phoneLabel,\r\n      test: function test() {\r\n        return phoneMask.test();\r\n      },\r\n      focus: function focus() {\r\n        this.el.focus();\r\n      },\r\n      clear() {\r\n        phoneMask.clear()\r\n      }\r\n    }\r\n\r\n    var nameLabel = form.querySelector('.input--name');\r\n    var nameEl = form.querySelector('input.--name');\r\n    var name = {\r\n      el: nameEl,\r\n      label: nameLabel,\r\n      test: function test() {\r\n        if (this.el.value.length > 1) {\r\n          let regexp = new RegExp('^([a-zа-яё ]+|\\d+)$','gi');\r\n          return regexp.test(this.el.value);\r\n        } else {\r\n          return false;\r\n        }\r\n      },\r\n      focus: function focus() {\r\n        this.el.focus();\r\n      }\r\n    };\r\n\r\n    var emailLabel = form.querySelector('.input--email');\r\n    var emailEl = form.querySelector('input.--email');\r\n    var email = {\r\n      el: emailEl,\r\n      label: emailLabel,\r\n      test: function test() {\r\n        // Если ничего не вводили, то не проверяем\r\n        // if (this.el.value == '') {\r\n        //   return true;\r\n        // }\r\n\r\n        // проверка на наличие символа до собачки, собачку, текст между собачкой и точкой, точку и текст после точки\r\n        var regexp = new RegExp('.@.+?\\\\.\\\\D{2}', 'gi');\r\n        return regexp.test(this.el.value);\r\n      },\r\n      focus: function focus() {\r\n        this.el.focus();\r\n      }\r\n    };\r\n\r\n    if (form.querySelector('.input.--textarea')) {\r\n      var commentLabel = form.querySelector('.input.--textarea');\r\n      var commentEl = commentLabel.querySelector('.input__element');\r\n      var comment = {\r\n        el: commentEl,\r\n        label: commentLabel,\r\n        test: function test() {\r\n          // Если ничего не вводили, то не проверяем\r\n          if (this.el.value == '') {\r\n            return true;\r\n          }\r\n  \r\n          if (this.el.value.length > 1) {\r\n            let regexp = new RegExp('[<=>:/\\+\\|]','gi');\r\n            return !regexp.test(this.el.value);\r\n          } else {\r\n            return false;\r\n          }\r\n        },\r\n        focus: function focus() {\r\n          this.el.focus();\r\n        }\r\n      };\r\n    }\r\n  \r\n    return {\r\n      phone: phone,\r\n      name: name,\r\n      email: email,\r\n      // comment: comment\r\n    }\r\n  }\r\n}\r\n","import Validation from './validation.js';\n\nexport default class Form {\n  constructor() {\n    this.forms = [...document.querySelectorAll('.form')];\n    this.inputs = [...document.querySelectorAll('.input')];\n    this.inputFile = [...document.querySelectorAll('.js-inputFile')];\n\n    this.forms.forEach(form => {\n      this.initValidation(form);\n    });\n\n    this.listeners();\n  }\n\n  listeners() {\n    this.inputFile.forEach(el => {\n      el.addEventListener('change', event => {\n        this.showFilesCount(el);\n      });\n    });\n\n    this.inputs.forEach(item => {\n      let elements = [...item.querySelectorAll('.input__element')];\n\n      elements.forEach(el => {\n        el.addEventListener('change', event => {\n          this.checkValue(item);\n        });\n\n        el.addEventListener('input', event => {\n          this.checkValue(item);\n        });\n\n        el.addEventListener('focus', event => {\n          this.setFocus(item);\n        });\n\n        el.addEventListener('blur', event => {\n          this.removeFocus(item);\n        });\n      });\n    });\n  }\n\n  initValidation(form) {\n    new Validation(form);\n  }\n\n  setFocus(item) {\n    item.classList.add('--focused');\n  }\n\n  removeFocus(item) {\n    item.classList.remove('--focused');\n  }\n\n  showFilesCount(el) {\n    let input = el.querySelector('input[type=\"file\"]');\n    let counter = el.querySelector('.js-inputFileCount');\n    let files = input.files;\n    let length = files.length;\n    let text = 'Загруженные файлы:<br> ';\n    let size = 0;\n\n    if (length > 0) {\n      for (let i = 0; i < length; i++) {\n        let name = files[i].name;\n        text += i + 1 + '. ' + name + ',<br> ';\n        counter.innerHTML = text;\n      }\n\n      for (let i = 0; i < length; i++) {\n        size += files[i].size;\n      }\n  \n      size = size / 1024 / 1024; // Mb\n      size = size.toFixed(2);\n\n      if (size > 5) {\n        counter.classList.add('--error');\n        text = 'Размер файлов не должен превышать 5Мб'\n        counter.innerHTML = text;\n        input.value = '';\n      } else {\n        counter.classList.remove('--error');\n      }\n\n    } else {\n      counter.textContent = '';\n    }\n  }\n\n  checkValue(item) {\n    let input = item.getElementsByClassName('input__element')[0];\n\n    if (input.value !== '' && input.value !== undefined && input.value !== '+7 (___) ___-__-__') {\n      item.classList.add('--hasValue');\n    } else {\n      item.classList.remove('--hasValue');\n    }\n  }\n}","export default class SelectForm {\n    constructor() {\n        this.selectMenus = [...document.querySelectorAll('.form__select')];\n        this.activeClass = '--active';\n        this.selectClass = '--selected';\n        this.hasValue = '--hasValue';\n\n        this.listeners();\n    }\n\n    listeners() {   \n        for (let selectMenu of this.selectMenus) {\n            selectMenu.addEventListener('mousedown', () => {\n                if (!selectMenu.classList.contains(this.activeClass)) {\n                    this.removeSelectMenus();\n                    this.openSelectMenu(selectMenu);\n                } else {\n                    this.hideSelectMenu(selectMenu);\n                }\n            });\n\n            document.addEventListener('mousedown', event => {\n                let target = event.target;\n                target == selectMenu || selectMenu.contains(target) ? false : this.hideSelectMenu(selectMenu);\n            });\n\n            let items = selectMenu.querySelectorAll('.form__select-item');\n            for (let item of items) {\n                item.addEventListener('mousedown', () => {\n                    let value = item.textContent;\n                    this.choiceReasonCall(selectMenu, value);\n                })\n            }\n        }\n    }\n\n    removeSelectMenus() {\n        for (let selectMenu of this.selectMenus) {\n            selectMenu.classList.remove(this.activeClass);\n        }\n    }\n\n    openSelectMenu(selectMenu) {\n        selectMenu.classList.add(this.activeClass)\n    }\n\n    hideSelectMenu(selectMenu) {\n        selectMenu.classList.remove(this.activeClass)\n    }\n\n    choiceReasonCall(selectMenu, el) {\n        selectMenu.classList.add(this.selectClass);\n        let input = selectMenu.querySelector('.input__element')\n        input.value = el;\n\n        let head = selectMenu.querySelector('.form__select-head');\n        head.classList.add(this.hasValue);\n    }\n}\n\n\n\n\n\n","import './src/main.scss'\n\nimport Form from './src/js/form.js';\nimport SelectForm from './src/js/select.js';\n\ndocument.addEventListener( 'DOMContentLoaded', event => {\n    new Form;\n    new SelectForm;\n});\n\n\n\n"]}